{
  "$schema": "../../agents/schemas/agent.schema.json",
  "version": "1.12.0",
  "name": "facilitator",
  "displayName": "Facilitator Agent",
  "description": "Autonomous facilitator agent that monitors project status and ensures smooth progress through field management rather than direct control",
  "parameters": {
    "issue": {
      "type": "number",
      "description": "GitHub Issue number to work on",
      "required": false,
      "cli": "--issue"
    },
    "iterateMax": {
      "type": "number",
      "description": "Maximum number of iterations",
      "required": false,
      "default": 50,
      "cli": "--iterate-max"
    },
    "checkInterval": {
      "type": "number",
      "description": "Status check interval in minutes",
      "required": false,
      "default": 30,
      "cli": "--check-interval"
    },
    "branch": {
      "type": "string",
      "description": "Working branch name for worktree mode",
      "required": false,
      "cli": "--branch"
    },
    "baseBranch": {
      "type": "string",
      "description": "Base branch (merge target) for worktree mode",
      "required": false,
      "cli": "--base-branch"
    }
  },
  "runner": {
    "flow": {
      "systemPromptPath": "prompts/system.md",
      "prompts": {
        "registry": "steps_registry.json",
        "fallbackDir": "prompts/"
      }
    },
    "completion": {
      "type": "structuredSignal",
      "config": {
        "signalType": "facilitator_decision",
        "requiredFields": ["recommendations", "reasoning"],
        "maxIterations": 50
      }
    },
    "boundaries": {
      "allowedTools": [
        "Skill",
        "Read",
        "Glob",
        "Grep",
        "Bash",
        "Task",
        "WebFetch"
      ],
      "permissionMode": "bypassPermissions"
    },
    "integrations": {
      "github": {
        "enabled": true,
        "labels": {
          "blocked": "need clearance",
          "attention": "needs-attention",
          "stale": "stale"
        }
      }
    },
    "actions": {
      "enabled": true,
      "types": ["facilitate-action", "status-report", "project-plan", "review-result"],
      "outputFormat": "json",
      "handlers": {
        "project-plan": "builtin:completion-signal",
        "review-result": "builtin:completion-signal"
      }
    },
    "execution": {
      "worktree": {
        "enabled": true,
        "root": "../worktree"
      }
    },
    "logging": {
      "directory": "tmp/logs/agents/facilitator",
      "format": "jsonl",
      "maxFiles": 100
    }
  }
}
